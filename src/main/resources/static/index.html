<!DOCTYPE html>
<html lang="en">
<head>
    <title data-i18n="index.title">Deuspotify</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body class="homepage-layout">
    <div style="position: absolute; top: 10px; right: 20px;">
        <button onclick="loadTranslations('es')" title="EspaÃ±ol">Es</button>
        <button onclick="loadTranslations('en')" title="English">En</button>
        <button onclick="loadTranslations('eu')" title="Euskara">Eu</button>
    </div>

    <div class="homepage-title">
        <h2 data-i18n="index.welcome">Welcome to Deuspotify</h2>
    </div>

    <div class="homepage-menu">
        <ul>
            <li><a href="songs.html" data-i18n="index.viewSongs">View Songs</a></li>
            <li><a href="favourite_songs.html" data-i18n="index.viewFavouriteSongs">View Favourite Songs</a></li>
            <li><a href="playlists.html" data-i18n="index.viewPlaylists">View Playlists</a></li>
            <li><a href="add_song.html" data-i18n="index.addSong">Add Song</a></li>
            <li><a href="add_playlist.html" data-i18n="index.addPlaylist">Add Playlist</a></li>
            <li><a href="edit_profile.html" data-i18n="index.addeditProfile">Edit Profile</a></li>
        </ul>

        <h4 data-i18n="index.browseOtherPlaylists">Browse other people's playlists:</h4>
        <ul>
            <li><a href="view_all_playlist.html" data-i18n="index.addview_all_playlist">View all Playlist</a></li>
        </ul>

        <button onclick="logout()" class="logout-button" data-i18n="index.logout">Logout</button>
    </div>

    <script src="i18n.js"></script>
    <script>
        const full = window.location.origin;
        const match = full.match(/^(https?:\/\/[^\/:]+)/);
        const appUrl = match ? match[0] : '';

        document.addEventListener("DOMContentLoaded", () => {
            loadTranslations();
        });

        function logout() {
            localStorage.removeItem("token");
            fetch("/auth/logout", { method: "POST" })
                .then(() => window.location.href = "login.html");
        }
    </script>
</body>
</html>
